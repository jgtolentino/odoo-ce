[options]
; =============================================================================
; InsightPulse ERP - Odoo 18 CE + OCA Configuration
; Smart Delta Philosophy: Config -> OCA -> Delta -> Custom
; =============================================================================
;
; Canonical 5-Module Architecture:
; 1. ipai_dev_studio_base    - Foundation (disables IAP)
; 2. ipai_workspace_core     - Notion-style workspace
; 3. ipai_ce_branding        - CE/OCA compliance
; 4. ipai_finance_ppm        - Accounting industry pack
; 5. ipai_industry_marketing_agency - Marketing industry pack
; =============================================================================

; ----- Database -----
db_host = db
db_port = 5432
db_user = odoo
db_password = CHANGE_ME_STRONG_DB_PASSWORD
db_name = False
dbfilter = ^(odoo|insightpulse|ipai_.*)$
list_db = False
db_sslmode = disable

; ----- Addons (CE Core + OCA + Custom ipai_*) -----
; CRITICAL: This path must include all OCA repos for module resolution
addons_path = /usr/lib/python3/dist-packages/odoo/addons,/mnt/extra-addons,/mnt/oca-addons/reporting-engine,/mnt/oca-addons/account-closing,/mnt/oca-addons/account-financial-reporting,/mnt/oca-addons/account-financial-tools,/mnt/oca-addons/account-invoicing,/mnt/oca-addons/project,/mnt/oca-addons/hr-expense,/mnt/oca-addons/purchase-workflow,/mnt/oca-addons/maintenance,/mnt/oca-addons/dms,/mnt/oca-addons/calendar,/mnt/oca-addons/web,/mnt/oca-addons/contract,/mnt/oca-addons/server-tools

; ----- HTTP -----
http_port = 8069
; CRITICAL: proxy_mode MUST be True when behind Nginx/HTTPS
proxy_mode = True

; ----- Logging -----
logfile = /var/log/odoo/odoo.log
log_level = info

; ----- Security -----
admin_passwd = CHANGE_ME_SUPERMASTER_PASSWORD

; ----- Resource Limits -----
limit_memory_hard = 2684354560
limit_memory_soft = 2147483648
limit_request = 8192
limit_time_cpu = 600
limit_time_real = 1200

; ----- Worker Configuration -----
workers = 4
max_cron_threads = 2
db_maxconn = 64

; ----- CE/OCA Only -----
; IAP and Enterprise features are disabled via ipai_dev_studio_base module
; No email gateway config - use external SMTP or n8n for notifications
