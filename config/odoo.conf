[options]

; -------------------------------------------------------------------------
; InsightPulse ERP - Odoo 18 CE + OCA Configuration
; Smart Delta Philosophy: Config -> OCA -> Delta -> Custom
;
; Canonical 5-Module Architecture (ipai_addons):
;   1. ipai_dev_studio_base          - Foundation (OCA-first toolbox, disables IAP)
;   2. ipai_workspace_core           - Notion-style workspace foundation
;   3. ipai_ce_branding              - CE/OCA branding, hide Enterprise upsells
;   4. ipai_finance_ppm              - Accounting industry pack (BIR compliance)
;   5. ipai_industry_marketing_agency - Marketing agency industry pack
; -------------------------------------------------------------------------

; -------------------------------------------------------------------------
; Database
; -------------------------------------------------------------------------
db_host = db
db_port = 5432
db_user = odoo
db_password = odoo
db_name = False

; Allow only canonical DB names (ipai_*)
dbfilter = ^(ipai_.*|odoo|insightpulse)$
list_db = False
db_sslmode = disable

; -------------------------------------------------------------------------
; Addons (Core CE + OCA + ipai_*)
; Paths must match Dockerfile COPY destinations
; -------------------------------------------------------------------------
addons_path = /usr/lib/python3/dist-packages/odoo/addons,/odoo/oca_addons,/odoo/ipai_addons

; -------------------------------------------------------------------------
; HTTP / Reverse Proxy
; -------------------------------------------------------------------------
http_port = 8069
proxy_mode = True

; Set via UI or SQL after first run:
; web.base.url = https://erp.insightpulseai.net

; -------------------------------------------------------------------------
; Performance / Limits (DigitalOcean Droplet friendly defaults)
; -------------------------------------------------------------------------
workers = 0
max_cron_threads = 1

limit_time_cpu = 600
limit_time_real = 1200
limit_memory_soft = 2684354560
limit_memory_hard = 3221225472

; -------------------------------------------------------------------------
; Logging
; -------------------------------------------------------------------------
logfile = /var/log/odoo/odoo.log
log_level = info

; -------------------------------------------------------------------------
; CE/OCA Only
; -------------------------------------------------------------------------
; IAP and Enterprise features are disabled via ipai_dev_studio_base module
; No email gateway config - use external SMTP or n8n for notifications
