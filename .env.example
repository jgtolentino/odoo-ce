# ===========================================
# ODOO CE ENVIRONMENT CONFIGURATION
# ===========================================
# Copy this file to .env and customize values
# NEVER commit .env to version control
#
# Usage:
#   cp .env.example .env
#   # Edit .env with your values
#   docker compose --env-file .env up -d
# ===========================================

# ----- PostgreSQL Database -----
DB_HOST=db
DB_PORT=5432
DB_USER=odoo
DB_PASSWORD=CHANGE_ME_STRONG_DB_PASSWORD
DB_NAME=odoo
POSTGRES_MAX_CONNECTIONS=100

# ----- Odoo Server -----
ODOO_RC=/etc/odoo/odoo.conf
ADMIN_PASSWD=CHANGE_ME_SUPERMASTER_PASSWORD

# ----- Docker Image -----
APP_IMAGE=ghcr.io/jgtolentino/odoo-ce
APP_IMAGE_VERSION=latest
# For development, use: odoo:18.0

# ----- Network/Proxy -----
ODOO_PORT=8069
PROXY_MODE=True
# Set to False if not behind nginx/traefik

# ----- Resource Limits -----
# Formula: WORKERS = 2 Ã— CPU_CORES (min 2, max 8 for most setups)
WORKERS=4
MAX_CRON_THREADS=2
DB_MAXCONN=64

# Memory limits (bytes)
# Hard limit: 2.5GB = 2684354560
# Soft limit: 2GB = 2147483648
LIMIT_MEMORY_HARD=2684354560
LIMIT_MEMORY_SOFT=2147483648

# CPU/Time limits (seconds)
LIMIT_TIME_CPU=600
LIMIT_TIME_REAL=1200

# ----- Logging -----
LOG_LEVEL=info
# Options: debug, info, warn, error, critical

# ----- Development Flags -----
# Set to "xml,reload" for development hot-reloading
DEV_MODE=
# DEV_MODE=xml,reload

# ===========================================
# EXTERNAL INTEGRATIONS
# ===========================================

# ----- Supabase (Canonical Project) -----
# Project: spdtwktxdalcfigzeqrz
SUPABASE_PROJECT_REF=spdtwktxdalcfigzeqrz
SUPABASE_URL=https://spdtwktxdalcfigzeqrz.supabase.co
NEXT_PUBLIC_SUPABASE_URL=https://spdtwktxdalcfigzeqrz.supabase.co

# Authentication Keys
SUPABASE_ANON_KEY=your_anon_key_here
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# PostgreSQL Connection (Pooled - Port 6543)
POSTGRES_URL=postgres://postgres.spdtwktxdalcfigzeqrz:PASSWORD@aws-1-us-east-1.pooler.supabase.com:6543/postgres?sslmode=require&pgbouncer=true

# Direct Connection (Port 5432)
POSTGRES_URL_NON_POOLING=postgres://postgres.spdtwktxdalcfigzeqrz:PASSWORD@aws-1-us-east-1.pooler.supabase.com:5432/postgres?sslmode=require

# ----- n8n Integration -----
N8N_HOST=n8n
N8N_PORT=5678
N8N_WEBHOOK_URL=http://n8n:5678/webhook

# ----- Mattermost Integration -----
MATTERMOST_URL=https://mattermost.insightpulseai.net
MATTERMOST_WEBHOOK_URL=
MATTERMOST_BOT_TOKEN=

# ===========================================
# CI/CD SECRETS (GitHub Actions)
# ===========================================
# These should be set in GitHub Secrets, not here
# DOCKERHUB_USERNAME=
# GITHUB_ACCESS_TOKEN=
# GHCR_TOKEN=

# ===========================================
# DEPRECATED - DO NOT USE
# ===========================================
# xkxyvboeubffxxbebsll (old project)
# ublqmilcjtpnflofprkr (OPEX project only)
